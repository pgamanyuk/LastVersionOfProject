window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("#mail"),t=document.querySelector("#pass"),o=document.querySelector("#btnSend"),s=document.querySelectorAll("#passIcon");s.forEach((e,o)=>{e.addEventListener("click",()=>{e.classList.toggle("icon-hide"),0===o?(s[1].classList.toggle("icon-hide"),t.setAttribute("type","text")):(s[0].classList.toggle("icon-hide"),t.setAttribute("type","password"))})}),o.addEventListener("click",o=>{o.preventDefault();const s=document.querySelector("#newLoader"),i=e.value,n=t.value,a=document.querySelector("#errorMessage"),l=document.querySelectorAll(".signin__formItem");s.classList.toggle("hide"),axios.post("https://stark-lake-56522.herokuapp.com/signin",{mailOrLogin:i,password:n}).then((function(e){s.classList.toggle("hide"),localStorage.setItem("token",e.data.token),"yes"===e.data.admin?location.href="../adminBiba/adminBiba.html":location.href="../profile/index.html"})).catch((function(e){s.classList.toggle("hide"),a.classList.toggle("hide"),l.forEach(e=>{e.classList.toggle("signin__formItemError")}),setTimeout(()=>{a.classList.toggle("hide"),l.forEach(e=>{e.classList.toggle("signin__formItemError")})},4e3)}))})});